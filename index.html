<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeoverflow Installation Manual</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>
<body>
    <div class="container">
        <h1>Timeoverflow Installation Manual</h1>
        
        <h2>Table of Contents</h2>
        <ol>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#local-installation">Local Installation</a>
                <ul>
                    <li><a href="#environment-setup">Environment Setup</a></li>
                    <li><a href="#database-configuration">Database Configuration</a></li>
                    <li><a href="#application-initialization">Application Initialization</a></li>
                </ul>
            </li>
            <li><a href="#troubleshooting">Common Troubleshooting</a></li>
            <li><a href="#references">References</a></li>
        </ol>
        
        <h2 id="introduction">Introduction</h2>
        <p>Timeoverflow is a time bank system designed to facilitate the exchange of services between community members. This manual provides instructions to set up a local development environment and start contributing to the project.</p>
        
        <h2 id="prerequisites">Prerequisites</h2>
        <p>Before starting the installation, make sure you have the following components installed:</p>
        <ul>
            <li><strong>Ruby</strong>: Version 3.2.2</li>
            <li><strong>Rails</strong>: Version 7.2</li>
            <li><strong>PostgreSQL</strong>: Version 14 or higher</li>
            <li><strong>Node.js</strong>: Version 16 or higher (for asset compilation)</li>
            <li><strong>Git</strong>: To clone the repository</li>
        </ul>
        
        <h2 id="local-installation">Local Installation</h2>
        
        <h3 id="environment-setup">Environment Setup</h3>
        <ol>
            <li>Clone the Timeoverflow repository:
                <pre><code class="language-bash">git clone https://github.com/coopdevs/timeoverflow.git
cd timeoverflow</code></pre>
            </li>
            <li>Install Ruby 3.2.2 if you don't have it:
                <pre><code class="language-bash">rbenv install 3.2.2</code></pre>
                <p><strong>Note:</strong> When entering the project directory, rbenv will automatically switch to Ruby 3.2.2 thanks to the <code>.ruby-version</code> file.</p>
            </li>
            <li>Install the required Ruby gems (including Rails 7.2):
                <pre><code class="language-bash">bundle install</code></pre>
            </li>
        </ol>
        
        <h3 id="database-configuration">Database Configuration</h3>
        <ol>
            <li>Copy the environment variables configuration file:
                <pre><code class="language-bash">cp .env.example .env</code></pre>
            </li>
            <li>Edit the <code>.env</code> file with your local PostgreSQL database configuration if necessary.</li>
            <li>Run the automatic setup script:
                <pre><code class="language-bash">bin/setup</code></pre>
                <p>This script will install dependencies, create databases, run migrations, and load initial data.</p>
            </li>
        </ol>
        
        <h3 id="application-initialization">Application Initialization</h3>
        <ol>
            <li>Start the development server:
                <pre><code class="language-bash">bin/rails server</code></pre>
            </li>
            <li>In a separate terminal, start Sidekiq to process background tasks:
                <pre><code class="language-bash">bundle exec sidekiq</code></pre>
            </li>
            <li>Access the application through your web browser:
                <pre><code>http://localhost:3000</code></pre>
            </li>
            <li>Use the default credentials to log in:
                <ul>
                    <li>Email: <code>admin@timeoverflow.org</code></li>
                    <li>Password: <code>1234test</code></li>
                </ul>
            </li>
        </ol>
        
        <h2 id="troubleshooting">Common Troubleshooting</h2>
        
        <h3>Database connection error</h3>
        <ul>
            <li>Verify that PostgreSQL is running</li>
            <li>Check the configuration in the <code>.env</code> file</li>
        </ul>
        
        <h3>Error "Ruby version not installed"</h3>
        <ul>
            <li>Use rbenv to install Ruby 3.2.2:
                <pre><code class="language-bash">rbenv install 3.2.2</code></pre>
            </li>
        </ul>
        
        <h3>JavaScript runtime error</h3>
        <ul>
            <li>Make sure you have Node.js 16+ installed</li>
        </ul>
        
        <h3>If bin/setup fails</h3>
        <ul>
            <li>Manual alternative:
                <pre><code class="language-bash">psql -U your_user -d timeoverflow_development -f db/structure.sql
bundle exec rails db:seed</code></pre>
            </li>
        </ul>
        
        <h2 id="references">References</h2>
        <ul>
            <li>Official repository: <a href="https://github.com/coopdevs/timeoverflow" target="_blank">https://github.com/coopdevs/timeoverflow</a></li>
            <li>Ruby on Rails documentation: <a href="https://guides.rubyonrails.org/" target="_blank">https://guides.rubyonrails.org/</a></li>
            <li>PostgreSQL documentation: <a href="https://www.postgresql.org/docs/" target="_blank">https://www.postgresql.org/docs/</a></li>
        </ul>
    </div>
</body>
</html>
